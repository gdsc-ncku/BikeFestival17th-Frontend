<template>
  <!-- Key Visual Design -->
  <div
    class="relative w-full h-screen bg-cover bg-center"
    style="background-image: url('/BikeFestival17th-Frontend/home/key-visual.webp')"
  >
    <div class="slide-left-in layout_content opacity-0 text-white font-black lg:text-5xl text-4xl">
      <div class="absolute top-[40vh]">
        <h1 class="">æˆå¤§å–®è»Šç¯€ï¼Œ</h1>
        <h1 class="mt-3 ">æ§‹ç¯‰å±¬æ–¼ä½ çš„å¤§å­¸è—åœ–</h1>
        <h1 class="mt-5 font-normal lg:text-4xl text-2xl">
          2024å¹´3æœˆ2~3æ—¥ ï¼ æˆå¤§å…‰å¾©æ ¡å€
        </h1>
      </div>
    </div>
    <div class="arrow-bounce absolute w-full flex justify-center top-[85vh] opacity-0">
      <img class="lg:h-20 h-10" :src="downChevron">
    </div>
  </div>

  <!-- Story -->
  <div class="layout_content md:py-20 py-10 flex md:flex-row flex-col">
    <div class="flex-1 md:ml-10 md:mb-0 mb-12">
      <h2 id="typewriter" class="font-bold text-content xl:text-4xl lg:text-3xl text-2xl md:mb-6 mb-7">
        å–®è»Šåä¸ƒ æœ‰é»æ±è¥¿
      </h2>
      <div class="md:pr-10 text-content lg:text-base text-sm">
        <p>æˆå¤§å–®è»Šç¯€ï¼Œè‡´åŠ›æ–¼å¼­å¹³é«˜ä¸­èˆ‡å¤§å­¸ç«¯ä¹‹è³‡è¨Šè½å·®ã€‚<br>
          æˆ‘å€‘å‰µé€ å°è©±çš„å¹³å°ï¼Œè®“èº«è™•ç¬¬ä¸€ç·šæˆ°å ´çš„å¤§å­¸ç”Ÿï¼Œåˆ†äº«å±¬æ–¼æˆ‘å€‘çš„æ•…äº‹ï¼Œæ¿€ç›ªå‡ºçš„ç«èŠ±èˆ‡ç¾ˆçµ†ï¼Œå°‡æ˜¯ä½ å€‘å‹‡æ•¢å‰è¡Œçš„æœ€ä½³å¾Œç›¾ã€‚
          <br><br>ä»Šå¹´ä¸‰æœˆäºŒè™Ÿã€ä¸‰è™Ÿï¼Œä¸€èµ·ä¾†åˆ°æˆå¤§å–®è»Šç¯€ï¼Œè®“æˆ‘å€‘æ”œæ‰‹å‰è¡Œï¼Œå¸¶ä½ ä¸€æ­¥æ­¥æ§‹ç¯‰å±¬æ–¼è‡ªå·±çš„å¤§å­¸è—åœ–ã€‚</p>
      </div>
    </div>
    <div class="flex-1 flex flex-col items-center">
      <iframe
        class="lg:w-[432px] md:w-[300px] sm:w-[330px] aspect-video"
        src="https://www.youtube.com/embed/VSyUVDKVxKM?si=Yo2SvWps-_pVNS5I"
      >
      </iframe>
      <span class="font-black xl:text-xl text-lg">å®£å‚³çŸ­ç‰‡</span>
    </div>
  </div>

  <!-- psychological test -->
  <!-- <div class="flex md:flex-row flex-col sm:justify-evenly xl:px-36 xl:py-24 lg:px-20 lg:py-20 md:px-14 md:py-16 sm:py-10 sm:px-10 pb-10 bg-primary-900">
    <div class="flex-1 flex flex-col items-center lg:pt-0 pt-5">
      <img
        class="lg:w-96 w-80"
        alt="psychological-test"
        src="https://fakeimg.pl/300x200"
      />
      <div class="sm:mt-4 w-full sm:flex sm:justify-center hidden">
        <RouterLink to="#" class="flex lg:w-40 lg:h-16 lg:p-0 px-6 py-3 justify-center bg-white rounded-lg">
          <div class="flex flex-col justify-center">
            <span class="block text-primary-900 font-bold"> å³åˆ»éŠç© </span>
          </div>
        </RouterLink>
      </div>
    </div>

    <div class="flex-1 relative px-[2rem] sm:p-0 py-10 sm:overflow-visible overflow-hidden">
      <h2 class="mb-10 font-bold text-white xl:text-4xl lg:text-3xl text-2xl">
        æ¸¬é©— - ä½ æ˜¯å“ªä¸€ç¨®è»Šè»Šï¼Ÿ
      </h2>
      <div class="absolute ellipse xl:-translate-x-[50px] xl:translate-y-[60px] -translate-x-[20px] translate-y-[-20px] xl:left-0 left-[1/5]"></div>
      <div class="absolute ellipse xl:translate-x-[510px] xl:-translate-y-[30px] translate-x-[300px] -translate-y-[0px]"></div>
      <div class="absolute ellipse xl:translate-x-[280px] xl:translate-y-[170px] translate-x-[80px] translate-y-[90px] xl:left-0 left-[1/5]"></div>
      <div class="opacity-95 text-white xl:text-2xl lg:text-base text-sm">
        <p>
          åœ¨å°‹æ‰¾æ–¹å‘ä¹‹å‰ï¼Œè¦å…ˆçŸ¥é“è‡ªå·±æ˜¯èª°ï¼Œæ‰èƒ½çŸ¥é“è‡ªå·±é©åˆä»€éº¼ã€æƒ³è¦ä»€éº¼ã€‚<br>
          ä½†ï¼Œä½ çœŸçš„äº†è§£è‡ªå·±å—ï¼Ÿ<br>
          ç¬¬åä¸ƒå±†æˆå¤§å–®è»Šç¯€é™å®šå¿ƒç†æ¸¬é©—ï¼<br>
          <br>
          ã€Œåœ¨å–®è»Šçš„ä¸–ç•Œè£¡ï¼Œä½ çš„æœ¬é«”æ˜¯...ï¼Ÿã€<br>
          å„å¼å„æ¨£çš„å–®è»Šï¼Œä½ æ˜¯å“ªä¸€ç¨®å–®è»Šå‘¢ï¼Ÿ<br>
          æ­¤å¤–é‚„æœ‰æ¨è–¦çš„å–®è»Šç¯€è¡Œç¨‹ã€èƒ½åŠ›åˆ†æã€å¥½å¤¥ä¼´å’Œå£å¤¥ä¼´å€‘ï¼Œç­‰ä½ ä¾†è§£é–ï¼
        </p>
      </div>
    </div>

    <div class="sm:hidden w-full flex justify-center opacity-[99%]">
      <RouterLink class="flex justify-center bg-white rounded-lg w-80 h-12" to="#">
        <div class="flex flex-col justify-center">
          <span class="block text-primary-900 font-bold"> å³åˆ»éŠç© </span>
        </div>
      </RouterLink>
    </div>
  </div> -->

  <!-- 8 theme activities -->
  <div class="layout_content md:my-20 my-10 flex flex-col items-center">
    <h2 class="mb-12 font-bold text-content xl:text-4xl lg:text-3xl text-2xl">å…«å¤§ä¸»é¡Œæ´»å‹•</h2>
    <div class="lg:w-[800px] w-full sm:pt-16 sm:px-16 px-10 py-10 rounded-lg border-2 border-content bg-white">
      <Splide
        :options="{
          autoplay: true, interval: 2000, type: 'loop', perPage: 1, padding: '10rem', gap: '2rem',
          breakpoints: { 640: {padding: '0rem', gap: '0rem'}, },
      }">
        <SplideSlide v-for="(item, index) in activities" :key="index">
          <RouterLink :to=item.url class="w-full">
            <div class="relative w-full aspect-video mb-5">
              <img :src="item.img" :alt="item.title" class="absolute w-full h-full object-cover md:rounded-2xl rounded-lg" />
              <div style="border-radius: 16px; background: linear-gradient(0deg, #404040 0%, rgba(217, 217, 217, 0.00) 100%);" class="absolute z-10 w-full h-full"></div>
              <h1 class="text-white text-xl font-bold absolute z-10 bottom-5 right-10 lg:left-auto left-5">{{ item.title }}</h1>
            </div>
          </RouterLink>
          <div class="mb-10 lg:text-xl text-base">{{ item.brief }}</div>
        </SplideSlide>
      </Splide>
    </div>
  </div>

  <!-- column articles -->
  <div class="layout_content flex flex-col md:my-20 my-10 items-center">
    <h2 class="mb-12 font-bold text-content xl:text-4xl lg:text-3xl text-2xl text-center">å°ˆæ¬„æ–‡ç« </h2>
    <div class="flex gap-10 md:flex-row flex-col items-center justify-around">
      <DiscCard
        title="æˆ‘å€‘æ‰€ä¸çŸ¥é“çš„å‡å­¸"
        class_="è¡å‡å­¸"
        timestamp="2023-12-30"
        context="å°ç·¨åœ¨é€™è£¡æ•´ç†äº†ä¸€äº›å‡å¤§å­¸ç®¡é“æœ‰é—œç°¡ä»‹ï¼Œé‚„æœ‰è²¼å¿ƒé™„ä¸Šæ™‚ç¨‹è¡¨ğŸ•’ è®“å¤§å®¶çš„å‡å­¸ä¹‹è·¯æ›´æ¸…æ™°ï¼Œè£¡é¢æœ‰ä¸»è¦æ¡ç”¨çš„ #å€‹äººç”³è«‹ ç”¨å¤šå…ƒé¢å‘å»å±•ç¾è‡ªå·±ï¼›åœ¨å­¸æ ¡éƒ½æ’åå¾ˆé å‰ #ç¹æ˜Ÿ æ˜¯ä½ çš„å¥½å¤¥ä¼´â­ï¼›ç¡¬å¯¦åŠ›æ‰æ˜¯ç‹é“ #åˆ†ç§‘ è¦‹çœŸç« ï¼›è¦ºå¾—ç§‘å¤§ä¹Ÿé©åˆè‡ªå·±é‚£å°±ç”¨ #å››æŠ€ç”³è«‹ï¼›æŸå¹¾å€‹æŠ€èƒ½ç‰¹åˆ¥çªå‡º #ç‰¹æ®Šé¸æ‰ ç­‰è‘—ä½ ï¼"
        title-size="text-base"
        link="/forum/featuredArticles/education_4"
      />
      <DiscCard
        title="æˆç‚ºå·¥ç¨‹å¸«çš„ç¬¬ä¸€æ­¥ï¼èªè­˜ç¨‹å¼èªè¨€"
        class_="æŠ€èƒ½é»"
        timestamp="2023-12-20"
        context="æˆ‘å€‘çµ±æ•´äº†#Python #JavaScript C++çš„å„ªç¼ºé»ä»¥åŠæ‡‰ç”¨å±¤é¢ï¼Œä¹Ÿç°¡å–®åœ°èªªæ˜äº†å‰ç«¯èˆ‡å¾Œç«¯çš„å·®ç•°ï¼Œå¤§å®¶ä¸å¦¨å…ˆäº†è§£å‰å¾Œç«¯çš„å·®ç•°ï¼Œå†é¸æ“‡é©åˆè‡ªå·±çš„ç¨‹å¼èªè¨€å–”ï¼"
        title-size="text-base"
        link="/forum/featuredArticles/skill_3"
      />
      <DiscCard
        title="èƒ½åŠ›é–‹å…‰åŠ æŒ-è­‰ç…§ä¸€æŠŠæŠ“"
        class_="æ‹¼è€ƒè©¦"
        timestamp="2024-02-10"
        context="è­‰ç…§åœ¨æˆ‘æ‰‹ï¼Œè€ƒé‹æˆ‘ä¾†æœ‰ğŸ”¥é€™é‚Šç‚ºå¤§å®¶ä»‹ç´¹ä¸åŒç§‘ç³»çš„ç›¸é—œè­‰ç…§ï¼Œè®“æˆ‘å€‘æ”¶è—æœ‰èˆˆè¶£çš„è­‰ç…§ä¸¦è´åœ¨èµ·è·‘é»å§ï¼"
        title-size="text-base"
        link="/forum/featuredArticles/exam_3"
      />
    </div>
    <div class="flex items-center mt-5">
      <svg xmlns="http://www.w3.org/2000/svg" width="34" height="34" viewBox="0 0 34 34" fill="none"><path d="M13.7881 23.4291L20.6902 16.5813L13.8424 9.6792L13.7881 23.4291Z" fill="#FF974D"/></svg>
      <RouterLink to="/forum" class="text-primary text-base underline underline-offset-2">æŸ¥çœ‹æ›´å¤šå°ˆæ¬„æ–‡ç« </RouterLink>
    </div>
  </div>

  <!-- souvenir -->
  <div class="sm:flex sm:justify-evenly xl:px-36 xl:py-24 lg:px-20 lg:py-20 md:px-14 md:py-16 sm:py-10 sm:px-10 pt-10 pb-12 px-8 bg-primary-900">
    <div class="text-white xl:text-2xl lg:text-base text-sm">
      <h2 class="font-bold text-white xl:text-4xl lg:text-3xl text-2xl lg:mb-12 sm:mb-10 mb-7">ç´€å¿µå“å°èˆ–</h2>
      <div class="*:w-max w-max sm:m-0 mx-auto mb-6">
        <p>æ•¬è«‹æœŸå¾…ï¼</p>
      </div>
      <RouterLink
        class="lg:flex h-16 justify-center bg-white rounded-lg mt-7 "
        to="/souvenir"
      >
        <div class="flex flex-col justify-center">
          <span class="block text-primary-900 font-medium"> å•†å“ä»‹ç´¹ </span>
        </div>
      </RouterLink>
    </div>
    <div
      class="grid gap-x-8 gap-y-4 sm:grid-cols-3 grid-cols-2 *:mx-auto *:block sm:*:w-48 *:w-40 object-fill"
    >
      <img src="/souvenir/Bike17_pin.png" />
      <img src="/souvenir/Bike17_pin_2.png" />
      <img src="/souvenir/Bike17_pin_3.png" />
      <img src="/souvenir/Bike17_towel.png" />
      <img src="/souvenir/Bike17_towel_2.png" />
      <img src="/souvenir/omamori.jpg" />
    </div>
  </div>

  <!-- partners -->
  <div class="layout_content my-20 flex flex-col justify-center gap-5">
    <h1 class="text-content font-bold text-center xl:text-4xl lg:text-3xl text-2xl">è´ŠåŠ©å» å•†</h1>
    <p class="mb-10 text-content text-center text-base">ä¾ç…§ä¸­è‹±æ–‡ç­†ç•«é †åºæ’åˆ—</p>
    <div class="flex flex-wrap gap-x-16 gap-y-8 justify-center">
      <a v-for="sponsor in sponsors" :href="sponsor.websiteURL" target="_blank">
        <img class="sm:w-[12.5rem] w-32 sm:h-[12.5rem] h-32 object-contain" :src="sponsor.imgURL">
      </a>
    </div>
  </div>

  <!-- line official account -->
  <div class="layout_content md:pt-20 pt-0 pb-20 flex lg:flex-row flex-col justify-center lg:gap-20 gap-10">
    <img src="/home/line.png" alt="line" width="200">
    <div>
      <h1 class="mb-5 lg:text-5xl text-3xl font-bold">åŠ å…¥LINEå®˜æ–¹å¸³è™Ÿï¼Œ</h1>
      <h1 class="mb-10 lg:text-5xl text-3xl font-bold">æ´»å‹•é€šçŸ¥ä¸æ¼æ¥ï¼</h1>
      <a href="https://lin.ee/7Y8Zdu0" class="px-4 py-2 bg-[#00CB42] hover:bg-[#00B23A] text-white text-xl rounded-lg transition-all ease-in ">åŠ å…¥å¥½å‹</a>
    </div>
  </div>

  <div class="layout_content md:pt-20 pt-0 pb-20 lg:gap-20 gap-10 text-center">
      <span class="text-primary">æˆå¤§é§è­¦éšŠ</span>ï¼š06-2757575 #66666<br>
      <span class="text-primary">æˆå¤§é†«é™¢æ€¥è¨ºéƒ¨</span>ï¼š06-2353535 #2237ã€06-2359562<br>
      åœ°å€ï¼š70146 è‡ºå—å¸‚åŒ—å€å‹åˆ©è·¯138è™Ÿ<br>
      å¦‚ç—…æƒ…æˆ–å—å‚·ç‹€æ³å®œç”±å°ˆæ¥­äººå“¡ç…§è­·è€…ï¼Œæ‡‰æ‰“119å°ˆç·šç”³è«‹å°ˆæ¥­å–®ä½æ•‘è­·ã€‚<br>
  </div>

  <!-- key visual bottom -->
  <div class="w-full">
    <div
      class="w-full h-[400px] bg-cover bg-center relative"
      style="background-image: url('/BikeFestival17th-Frontend/home/key-visual-bottom.webp')"
    ></div>
    <div class="absolute -translate-y-48 left-1/2 -translate-x-1/2">
      <h2 class="text-white font-black lg:text-4xl text-2xl">
        é‚€è«‹ä½ è¸ä¸Šæ¢ç´¢ç§‘ç³»çš„æ—…ç¨‹ï¼
      </h2>
    </div>
  </div>
</template>

<script setup>
import { RouterLink } from 'vue-router';
import downChevron from '@/assets/down-chevron.svg';
import DiscCard from '@/components/DiscCard.vue';
import activities from "@/data/activities.json";
import { Splide, SplideSlide } from '@splidejs/vue-splide';
import '@splidejs/splide/dist/css/splide.min.css';

document.addEventListener('scroll', function() {
  const element = document.querySelector('#typewriter');
  const position = element.getBoundingClientRect();

  if (position.top < window.innerHeight && position.bottom >= 0) {
    element.classList.add('typewriter');
  }
});
const sponsors = [
  { imgURL: "partners/ADHIL.webp", websiteURL: "https://www.adhilshop.com/h/Index?key=1dg19" },
  { imgURL: "partners/deya.webp", websiteURL: "https://www.deya.tw/?lang=zh-TW" },
  { imgURL: "partners/seemore.webp", websiteURL: "https://www.see-more.com.tw/" },
  { imgURL: "partners/Sunshing.webp", websiteURL: "https://splus.com.tw/" },
  { imgURL: "partners/å®é”.jpg", websiteURL: "https://www.hdps.com.tw/" },
  { imgURL: "partners/å¿—å…‰.webp", websiteURL: "https://www.ckpublic.com.tw/" },
  { imgURL: "partners/é«˜é».webp", websiteURL: "https://www.get.com.tw/" },
  { imgURL: "partners/æ¨‚å­¸ç¶².webp", websiteURL: "https://347.com.tw/" },
];
</script>

<style scoped>
.ellipse {
  background-image: url("/BikeFestival17th-Frontend/home/ellipse.svg");
  width: 103.172px;
  height: 96px;
  flex-shrink: 0;
  overflow: hidden;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-20px); }
}
.arrow-bounce {
  animation:
    fadeIn 1s ease-out forwards 1.5s,
    bounce 2s infinite 1.5s;
}

@keyframes slideInFromLeft {
  0% {
    transform: translateX(-100%);
  }
  50% {
    opacity: 0;
  }
  100% {
    transform: translateX(0);
    opacity: 1;
  }
}

.slide-left-in {
  animation: slideInFromLeft 1.5s ease-out forwards;
}

@keyframes typing {
  from {
    width: 0;
    opacity: 1;
  }
  to {
    width: 270px;
    opacity: 1;
  }
}
@media screen and (max-width: 640px) {
  @keyframes typing {
    from {
      width: 0;
      opacity: 1;
    }
    to {
      width: 220px;
      opacity: 1;
    }
  }
}
@media screen and (min-width: 1280px) {
  @keyframes typing {
    from {
      width: 0;
      opacity: 1;
    }
    to {
      width: 320px;
      opacity: 1;
    }
  }
}

@keyframes blink-caret {
  from, to { border-color: transparent }
  50% { border-color: orange; }
}

.typewriter {
  overflow: hidden;
  white-space: nowrap;
  opacity: 0;
  border-right: .15em solid orange;
  animation:
    typing 3s steps(30, end) forwards,
    blink-caret .75s infinite;
}

/* carousel style */
.splide__slide {
  opacity: 0.5;
  transition: opacity 0.3s ease;
}

.splide__slide.is-active {
  opacity: 1;
}
</style>
